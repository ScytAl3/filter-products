<!DOCTYPE html>
<html lang="{{ app.request.locale }}">

    <head>
        {# Default meta tags #}
        <meta charset="UTF-8">
        {# Title #}
        <title>{% block title %} PDF Invoice | {{ project.name }} {% endblock %}</title>

        {% block stylesheets %}
        {# href="{{ absolute_url(asset('build/app.css'))[1:] }}" #}
        <link rel="stylesheet" href="{{ asset('build/pdf.css')[1:] }}">
        {% endblock %}

    </head>

    <body>

        {# Layout for PDF files #}
        <div>
            <header>
                <div class="header-container" style="border: solid blue">
                    {# Header logo #}
                    <div class="left" style="border: solid red">
                        {# uncomment the line ;extension=gd2 in the php.in file #}
                        <img src="{{ asset('build/images/default/octopus-logo-form.png')[1:] }}" height="200"
                             alt="{{ project.name }} logo">
                    </div>

                    {# Invoice information #}
                    <div class="right">
                        <div class="card-body" style="border: solid yellow">
                            <h5 class="card-title text-capitalize">Invoice</h5>
                            <p class="card-subtitle mb-2 text-muted">
                                {{ purchaseOrder.createdAt|date('d-m-Y') }}
                            </p>
                            <p class="card-text text-muted">
                                #FA-ODR_{{ purchaseOrder.id }}-USR_{{ purchaseOrder.user.id }}
                            </p>
                        </div>
                    </div>                
                </div>

            </header>

            {# Numéro de commande et date #}
            <div class="clear">
                <h1 class="text-uppercase">
                    {{ 'my_account.orders.detail_page.title' | trans ({}, 'pagecontent') }}
                    n°
                    {{ purchaseOrder.id }}
                </h1>
                <p>
                    {{ 'my_account.orders.detail_page.date' | trans ({}, 'pagecontent') }}
                    <time datetime="{{ purchaseOrder.createdAt|date('d-m-Y') }}">
                        {{ purchaseOrder.createdAt|date('d-m-Y') }}
                    </time>
                </p>
            </div>

            {# Tableau des produits dans le panier #}
            <table class="table-striped mt-3">
                {# Entête du tableau #}
                <thead class="bg-danger text-white rounded">
                    <tr>
                        <th>
                            {{ 'my_account.orders.detail_page.table_header.product' | trans ({}, 'pagecontent') }}
                        </th>
                        <th></th>
                        <th class="text-center">
                            {{ 'my_account.orders.detail_page.table_header.quantity' | trans ({}, 'pagecontent') }}
                        </th>
                        <th class="text-right">
                            Total
                        </th>
                    </tr>
                </thead>
                {# Corps du tableau: liste des produits #}
                <tbody>
                    {# Import: purchased products template #}
                    {% include 'account/orders/_purchasedProducts.html.twig' %}
                </tbody>
                {# Calcul du montant total du panier #}
                <tfoot class="text-right table-sm">
                    {# Total HT des produits #}
                    <tr class="font-weight-bold">
                        <td colspan="3">
                            {{ 'my_account.orders.detail_page.table_footer.ht' | trans ({}, 'pagecontent') }}
                        </td>
                        <td>
                            {{ total_ht |format_currency('EUR', {fraction_digit: 2}) }}
                        </td>
                    </tr>
                    {# Total de la TVA #}
                    <tr class="font-weight-light">
                        <td colspan="3">
                            {{ 'my_account.orders.detail_page.table_footer.tva' | trans ({}, 'pagecontent') }}
                        </td>
                        <td>
                            {{ tva |format_currency('EUR', {fraction_digit: 2}) }}
                        </td>
                    </tr>
                    {# Montant de la livraison #}
                    <tr class="font-weight-light">
                        <td colspan="3">
                            {{ 'my_account.orders.detail_page.table_footer.delivery' | trans ({}, 'pagecontent') }}
                        </td>
                        <td>
                            <small class="text-success">
                                {{ 'my_account.orders.detail_page.table_footer.delivery_fee' | trans ({}, 'pagecontent') }}
                            </small>
                        </td>
                    </tr>
                    {# Total TTC : tva + shipping #}
                    <tr class="font-weight-bold">
                        <td colspan="3">
                            {{ 'my_account.orders.detail_page.table_footer.total' | trans ({}, 'pagecontent') }}
                        </td>
                        <td>
                            {{ total_ttc |format_currency('EUR', {fraction_digit: 2}) }}
                        </td>
                    </tr>
                </tfoot>
            </table>

            <hr>
            <br>

            {# Adresses: livraison & facturation #}
            <table class="mx-auto">
                <tbody>
                    <tr>
                        {# Adresse de livraison #}
                        <td class="w-25">
                            <div class="card border-info mb-3">
                                <div class="card-header text-white bg-info">
                                    {{ 'my_account.orders.detail_page.address.shipping' | trans ({}, 'pagecontent') }}
                                </div>
                                <div class="card-body">
                                    <div class="card-text">
                                        {# Adresse #}
                                        <p class="my-0">
                                            {{ shipping_address.address }}
                                        </p>
                                        {# Complément adresse #}
                                        <p class="my-0">
                                            {{ shipping_address.address2 }}
                                        </p>
                                        {# Code postal & ville #}
                                        <p class="my-0">
                                            {{ shipping_address.zipcode }} {{ shipping_address.city }}
                                        </p>
                                        {# Pays #}
                                        <p class="my-0">
                                            {{ shipping_address.country }}
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </td>
                        {# /Adresse de livraison #}

                        <td class="w-50"></td>

                        {# Adresse de facturation #}
                        <td class="w-25">
                            <div class="card border-info mb-3">
                                <div class="card-header text-white bg-info">
                                    {{ 'my_account.orders.detail_page.address.billing' | trans ({}, 'pagecontent') }}
                                </div>
                                <div class="card-body">
                                    <div class="card-text">
                                        {# Adresse #}
                                        <p class="my-0">
                                            {{ shipping_address.address }}
                                        </p>
                                        {# Complément adresse #}
                                        <p class="my-0">
                                            {{ shipping_address.address2 }}
                                        </p>
                                        {# Code postal & ville #}
                                        <p class="my-0">
                                            {{ shipping_address.zipcode }} {{ shipping_address.city }}
                                        </p>
                                        {# Pays #}
                                        <p class="my-0">
                                            {{ shipping_address.country }}
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </td>
                        {# /Adresse de facturation #}
                    </tr>
                </tbody>
            </table>
            {# /Adresses: livraison & facturation #}

        </div>
    </body>

    {% block javascripts %}
    {% endblock %}

</html>