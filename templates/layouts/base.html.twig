<!DOCTYPE html>
<html lang="{{ app.request.locale }}">

    <head>
        {# Default meta tags #}
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="author" content="Franck Jakubowski">
        <meta name="description"
              content="Un mini site pour administrer des produits et permettre un affichage suivant des filtres.">
        {#  Favicons #}
        <link rel="apple-touch-icon" sizes="180x180" href="{{ asset('favicon/apple-touch-icon.png') }}">
        <link rel="icon" type="image/png" sizes="32x32" href="{{ asset('favicon/favicon-32x32.png') }}">
        <link rel="icon" type="image/png" sizes="16x16" href="{{ asset('favicon/favicon-16x16.png') }}">
        <link rel="manifest" href="{{ asset('favicon/site.webmanifest') }}">
        <link rel="mask-icon" href="{{ asset('favicon/safari-pinned-tab.svg') }}" color="#5bbad5">
        <meta name="msapplication-TileColor" content="#da532c">
        <meta name="theme-color" content="#ffffff">
        {# Title #}
        <title>{% block title %} {{ project.name }} {% endblock %}</title>

        {% block stylesheets %}
        {{ encore_entry_link_tags('app') }}

        {% endblock %}
    </head>

    <body>

        {% block header %}
            <header>
                {# Navbar import #}
                {{ include('layouts/partials/_nav.html.twig') }}

                {# Adding a banner when impersonating someone else #}
                {% if is_granted('IS_IMPERSONATOR') %}
                <div class="w-100 switch-user">
                    <div class="alert alert-warning">
                        You are currently switched to this user.
                        <a href="{{ path('app_home', {'_switch_user': '_exit'}) }}">Exit Impersonation</a>
                    </div>
                </div>
                {% endif %}

                {# Header background #}
                {{ include('layouts/partials/_header-bg.html.twig') }}
            </header>                
        {% endblock %}

        {# Message flash area #}
        {{ include('layouts/partials/_flash_messages.html.twig') }}
        {# /Message flash area #}
        
        <main role="main" class="container">
            {% block body %}{% endblock %}
        </main>

        {% block footer %}
            <footer class="pt-3">
                {# footer import #}
                {{ include('layouts/partials/_footer.html.twig') }}
                {# /footer import #}
            </footer>
        {% endblock %}        

        {% block javascripts %}
        {{ encore_entry_script_tags('app') }}
        
        {% endblock %}

    </body>

</html>